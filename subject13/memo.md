## Cypressの立ち上げ(GUI)

```bash
# yarn startでフロント側を立ち上げておく必要あり
yarn run cypress open
```

## E2Eテストのメリット・デメリット

- メリット
  - フロントエンドからバックエンドまで一気通貫のテストができるため、きちんと動いていることが保証できる
- デメリット
  - UIの事情で誤作動しやすく、壊れやすい
    - これが原因で放置されやすい
  - 一つ一つのテストが遅い
  - 用意する環境が多く、CIが大変

## テスト手法の選択基準

- 単体テスト
  - クラスやモジュール単位で振る舞いをテストしたい時に使うと良い。
- 結合テスト
  - APIのエンドポイント単位でのテストで使うと良い
    - リクエスト→DBへの命令→レスポンス返却までテストすることが多い。単体テストと比べてテストの実行に時間がかかるため、そのエンドポイントで発生する条件分岐を網羅しようとせず、重要な正常値、異常値のみのテストにとどめることが多い
  - DBを扱うモジュール(Repositoryなど)のテストで使うと良い
    - モジュール内の関数の呼び出しから、DBなどのストレージへの命令がきちんと実行されていることを確認するために使う
- E2Eテスト
  - フロントエンドからバックエンドまで一気通貫でテストしておきたいものに使うと良い
    - E2Eテストは非常に遅いため、何でもかんでもテストしてしまうと腐りやすい。アプリケーションでできることの中から、かなり重要と思われるものかつ、重要な正常値、異常値のみをテストすると良い

## クイズ

- Cypress以外のE2Eテストフレームワークを教えてください
- 最近はCypressとは異なり、ノーコードでE2Eテストが作れるツール（製品）がいくつかあります。二つ以上教えてください
- プロジェクトにCypressを使う、または使っている場合、どんなタイミングでCypressのテストを実施すると良いと思いますか？理由も含めて教えてください
  - PR作成時のCI、リリース前のみ、ローカル環境のみなど様々なタイミングがありそうです
