## 1

### CORSとは

同一オリジンポリシーによりあるオリジンにホストされているページから異なるオリジンのリソースを読み込むことはできないが、同一オリジンポリシーに準拠しつつ安全に他オリジンのリソースを読み込むための仕組みがCORS

サーバー側でAccess-Control-Allow-Originレスポンスヘッダーに、リソースの読み込みを許可するオリジンを指定することで、許可されたオリジンのページはそのサーバーのリソースの読み込むことができる

CORSを利用してブラウザからクロスオリジンのリクエストを送る場合、そのリクエストがsimple requestでない場合、ブラウザはpreflight requestを送ってそのリクエストが許可されているかどうかを問い合わせてからリクエストを行う

## 2
Access-Control-Allow-Originをワイルドカードに指定していると、資格情報を持ったリクエストがCORS違反になる

## simple request

- simple requestの条件
  - ブラウザがデフォルトで許可しているGET, POSTリクエストのこと

- simple request時に、CORS違反がある場合
  - ブラウザはJSにレスポンスを開示しない
    - レスポンスに対して、JSでアクセスできないようにブラウザが制御する

- XHRで資格情報を送信するためにどうするか
  - withCredentialsフラグをtrueにする

## クイズ

- CORSがなかった時代に使われていた、Same Origin Policyをすり抜けて他オリジンのリソースを取得する方法について一つ以上教えてください

- 単純でないリクエストに対するpreflight requestの仕組みがなかった場合に起こりうる問題について、理由とともに一つ以上教えてください

- とあるAPIの、単純でないリクエストを受け入れるエンドポイントをブラウザから頻繁に叩く必要がある場合、preflight requestを毎回送信しているとリクエストの数が多くなりパフォーマンスに悪影響が出ることが考えられます。このパフォーマンスを改善する方法を教えてください
